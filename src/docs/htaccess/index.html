<!doctype html public "âœ°">
<!--[if lt IE 7 ]> <html lang="en-us" dir="ltr" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en-us" dir="ltr" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en-us" dir="ltr" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en-us" dir="ltr" class="no-js ie9"> <![endif]-->   
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en-us" dir="ltr" class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1" >
  <meta charset="utf-8">
  <title>htaccess | HTML5 Boilerplate - A rock-solid default template for HTML5 awesome.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">  
  <link rel="stylesheet" href="/css/style.css" >
  <link rel="stylesheet" href="/css/docs.css" >
  <script src="/js/libs/modernizr-2.0.6.min.js"></script>
</head>
<body>
  <div id="container" class="wikiconvertor"> 
    <div id="header">
         <p class="lang">
           <a href="/">Return to the HTML5 Boilerplate website &#8618;</a>
         </p>
         <h1>HTML5  <i>&#x2605;</i> <b>Boilerplate Docs</b></h1> 
         <h2>A rock-solid default for HTML5 awesome.</h2>
    </div>
    <div id="body" class="docs">
      <div class="wikiconvertor-pages">
        <ul>
                      <li><a href="/docs/960.gs/">960.gs</a></li>
                      <li><a href="/docs/ARIA-in-Boilerplate/">ARIA in Boilerplate</a></li>
                      <li><a href="/docs/Build-script/">Build script</a></li>
                      <li><a href="/docs/Common-Analytics-Augments/">Common Analytics Augments</a></li>
                      <li><a href="/docs/createproject.sh/">createproject.sh</a></li>
                      <li><a href="/docs/crossdomain.xml/">crossdomain.xml</a></li>
                      <li><a href="/docs/DNS-Prefetching/">DNS Prefetching</a></li>
                      <li><a href="/docs/Experimental/">Experimental</a></li>
                      <li><a href="/docs/FAQs/">FAQs</a></li>
                      <li><a href="/docs/Get-Involved/">Get Involved</a></li>
                      <li><a href="/docs/Get-Started!/">Get Started!</a></li>
                      <li><a href="/docs/head-Tips/">head Tips</a></li>
                      <li><a href="/docs/">Home</a></li>
                      <li><a href="/docs/htaccess/">htaccess</a></li>
                      <li><a href="/docs/Internationalization-tips/">Internationalization tips</a></li>
                      <li><a href="/docs/List-of-commonly-installed-fonts-in-different-devices/">List of commonly installed fonts in different devices</a></li>
                      <li><a href="/docs/Make-it-better/">Make it better</a></li>
                      <li><a href="/docs/Mobile-Blogs-and-Articles/">Mobile Blogs and Articles</a></li>
                      <li><a href="/docs/Mobile-References/">Mobile References</a></li>
                      <li><a href="/docs/nginx.conf/">nginx.conf</a></li>
                      <li><a href="/docs/Notes-on-using-png/">Notes on using png</a></li>
                      <li><a href="/docs/Offline/">Offline</a></li>
                      <li><a href="/docs/Patterns-for-writing-better-JavaScript/">Patterns for writing better JavaScript</a></li>
                      <li><a href="/docs/plugins.js-and-script.js/">plugins.js and script.js</a></li>
                      <li><a href="/docs/Proper-usage-of-trailing-slash-redirects/">Proper usage of trailing slash redirects</a></li>
                      <li><a href="/docs/rake/">rake</a></li>
                      <li><a href="/docs/Reference-sheet-for-mobile-platforms/">Reference sheet for mobile platforms</a></li>
                      <li><a href="/docs/Script-Loading-Techniques/">Script Loading Techniques</a></li>
                      <li><a href="/docs/Security/">Security</a></li>
                      <li><a href="/docs/Sites-using-the-boilerplate/">Sites using the boilerplate</a></li>
                      <li><a href="/docs/The-markup/">The markup</a></li>
                      <li><a href="/docs/The-style/">The style</a></li>
                      <li><a href="/docs/Tips-For-Customizing-Boilerplate/">Tips For Customizing Boilerplate</a></li>
                      <li><a href="/docs/Version-Control-with-Cachebusting/">Version Control with Cachebusting</a></li>
                      <li><a href="/docs/web.config/">web.config</a></li>
          </ul>
      </div>
      <div class="wikiconvertor-content wikistyle relative">
        <p class="dwn">
          <span class="right button"><a class="edit-page" href="//github.com/paulirish/html5-boilerplate/wiki/htaccess/_edit">Edit this page</a></span>
        </P>
        <p>In Apache HTTP server, .htaccess (hypertext access) is the configuration file that allows for web server configuration. HTML5 Boilerplate team has identified a number of best practice server rules for making web pages fast and secure, these rules can be applied by configuring .htaccess file.</p>

<h5>You'll want to have these modules enabled for optimum performance:</h5>

<ul>
<li>mod_setenvif.c (<strong>setenvif_module</strong>)</li>
<li>mod_headers.c (<strong>headers_module</strong>)</li>
<li>mod_deflate.c (<strong>deflate_module</strong>)</li>
<li>mod_filter.c (<strong>filter_module</strong>)</li>
<li>mod_expires.c (<strong>expires_module</strong>)</li>
<li>mod_rewrite.c (<strong>rewrite_module</strong>)</li>
</ul>

<h3>On Windows</h3>

<p>You've got a couple of options that depend on how you installed Apache.</p>

<ol>
<li>Wampserver - This is by far the simplest option.  If you have installed Wampserver just click on the icon in the task bar, hover over the Apache section in the menu that comes up and then hover over the modules section.  You will be presented with a list of modules.  Simply click on a module name to enable it (or disable it if it is already enabled).  A check mark next to a module indicates that it is enabled.  Wampserver will automatically restart the Apache service after you enable a module.  </li>
<li>Manually editing <em>httpd.conf</em> - This assumes that you have manually installed Apache.  You will need to locate the httpd.conf file which is normally in the <em>conf</em> folder in the folder where you installed Apache (for example C:\apache\conf\httpd.conf).  Open up this file in a text editor.  Near the top (after a bunch of comments) you will see a long list of modules.  Check to make sure that the modules listed above are not commented out.  If they are, go ahead and uncomment them and restart Apache.</li>
</ol>

<p>That's it, you're done!</p>

<h3>On Linux</h3>

<p>These instructions should work on any distribution where apt-get has been used to install apache.</p>

<ol>
<li><p>Open up a terminal and type the following command.   Enter your password when prompted.  </p>

<p><code><span class="pln">sudo a2enmod setenvif headers deflate filter expires rewrite</span></code>  </p></li>
<li><p>Restart apache by using the following command so the new configuration takes affect.  </p>

<p><code><span class="pln">sudo </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">init</span><span class="pun">.</span><span class="pln">d</span><span class="pun">/</span><span class="pln">apache2 restart</span></code></p></li>
</ol>

<p>That's it, you're done!</p>

<h3>On Mac</h3>

<p>Coming soon...</p>

<h1>Security</h1>

<p>Do not turn off your ServerSignature (i.e., the <code><span class="typ">Server</span><span class="pun">:</span></code> HTTP header).  Serious attackers can use other kinds of fingerprinting methods to figure out the actual server and components running behind a port.  Instead, as a site owner, you should keep track of what's listening on ports on hosts that you control.  Run a periodic scanner to make sure nothing suspicious is running on a host you control, and use the ServerSignature to determine if this is the web server and version that you expect.</p>

<h1>Performance</h1>

<h3>Configure ETags</h3>

<pre><code><span class="typ">FileETag</span><span class="pln"> </span><span class="kwd">None</span><span class="pln"><br /></span></code></pre>

<p>Entity tags (ETags) are a mechanism that web servers and browsers use to determine whether the component in the browser's cache matches the one on the origin server. (An "entity" is another word a "component": images, scripts, stylesheets, etc.) ETags were added to provide a mechanism for validating entities that is more flexible than the last-modified date. An ETag is a string that uniquely identifies a specific version of a component. The only format constraints are that the string be quoted. The origin server specifies the component's ETag using the ETag response header.</p>

<pre><code><span class="pln">&nbsp; HTTP</span><span class="pun">/</span><span class="lit">1.1</span><span class="pln"> </span><span class="lit">200</span><span class="pln"> OK<br />&nbsp; </span><span class="typ">Last</span><span class="pun">-</span><span class="typ">Modified</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Tue</span><span class="pun">,</span><span class="pln"> </span><span class="lit">12</span><span class="pln"> </span><span class="typ">Dec</span><span class="pln"> </span><span class="lit">2006</span><span class="pln"> </span><span class="lit">03</span><span class="pun">:</span><span class="lit">03</span><span class="pun">:</span><span class="lit">59</span><span class="pln"> GMT<br />&nbsp; </span><span class="typ">ETag</span><span class="pun">:</span><span class="pln"> </span><span class="str">"10c24bc-4ab-457e1c1f"</span><span class="pln"><br />&nbsp; </span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Length</span><span class="pun">:</span><span class="pln"> </span><span class="lit">12195</span><span class="pln"><br /></span></code></pre>

<p>Later, if the browser has to validate a component, it uses the If-None-Match header to pass the ETag back to the origin server. If the ETags match, a 304 status code is returned reducing the response by 12195 bytes for this example.</p>

<pre><code><span class="pln">&nbsp; GET </span><span class="pun">/</span><span class="pln">i</span><span class="pun">/</span><span class="pln">yahoo</span><span class="pun">.</span><span class="pln">gif HTTP</span><span class="pun">/</span><span class="lit">1.1</span><span class="pln"><br />&nbsp; </span><span class="typ">Host</span><span class="pun">:</span><span class="pln"> us</span><span class="pun">.</span><span class="pln">yimg</span><span class="pun">.</span><span class="pln">com<br />&nbsp; </span><span class="typ">If</span><span class="pun">-</span><span class="typ">Modified</span><span class="pun">-</span><span class="typ">Since</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Tue</span><span class="pun">,</span><span class="pln"> </span><span class="lit">12</span><span class="pln"> </span><span class="typ">Dec</span><span class="pln"> </span><span class="lit">2006</span><span class="pln"> </span><span class="lit">03</span><span class="pun">:</span><span class="lit">03</span><span class="pun">:</span><span class="lit">59</span><span class="pln"> GMT<br />&nbsp; </span><span class="typ">If</span><span class="pun">-</span><span class="kwd">None</span><span class="pun">-</span><span class="typ">Match</span><span class="pun">:</span><span class="pln"> </span><span class="str">"10c24bc-4ab-457e1c1f"</span><span class="pln"><br />&nbsp; HTTP</span><span class="pun">/</span><span class="lit">1.1</span><span class="pln"> </span><span class="lit">304</span><span class="pln"> </span><span class="typ">Not</span><span class="pln"> </span><span class="typ">Modified</span><span class="pln"><br /></span></code></pre>

<p>The problem with ETags is that they typically are constructed using attributes that make them unique to a specific server hosting a site. ETags won't match when a browser gets the original component from one server and later tries to validate that component on a different server, a situation that is all too common on Web sites that use a cluster of servers to handle requests. By default, both Apache and IIS embed data in the ETag that dramatically reduces the odds of the validity test succeeding on web sites with multiple servers.</p>

<p>The ETag format for Apache 1.3 and 2.x is inode-size-timestamp. Although a given file may reside in the same directory across multiple servers, and have the same file size, permissions, timestamp, etc., its inode is different from one server to the next.</p>

<p>IIS 5.0 and 6.0 have a similar issue with ETags. The format for ETags on IIS is Filetimestamp:ChangeNumber. A ChangeNumber is a counter used to track configuration changes to IIS. It's unlikely that the ChangeNumber is the same across all IIS servers behind a web site.</p>

<p>The end result is ETags generated by Apache and IIS for the exact same component won't match from one server to another. If the ETags don't match, the user doesn't receive the small, fast 304 response that ETags were designed for; instead, they'll get a normal 200 response along with all the data for the component. If you host your web site on just one server, this isn't a problem. But if you have multiple servers hosting your web site, and you're using Apache or IIS with the default ETag configuration, your users are getting slower pages, your servers have a higher load, you're consuming greater bandwidth, and proxies aren't caching your content efficiently. Even if your components have a far future Expires header, a conditional GET request is still made whenever the user hits Reload or Refresh.</p>

<p>If you're not taking advantage of the flexible validation model that ETags provide, it's better to just remove the ETag altogether. The Last-Modified header validates based on the component's timestamp. And removing the ETag reduces the size of the HTTP headers in both the response and subsequent requests. This Microsoft Support article describes how to remove ETags. In Apache, this is done by simply adding the above line to your Apache configuration file.</p>

<h3>Gzip Components</h3>

<pre><code><span class="tag">&lt;IfModule</span><span class="pln"> </span><span class="atn">mod_deflate</span><span class="pln">.</span><span class="atn">c</span><span class="tag">&gt;</span><span class="pln"><br />&nbsp; AddOutputFilterByType DEFLATE text/html text/plain text/css text/javascript application/javascript application/json <br />&nbsp; AddOutputFilterByType DEFLATE text/xml application/xml text/x-component<br /><br />&nbsp; </span><span class="tag">&lt;FilesMatch</span><span class="pln"> </span><span class="atv">"\.(ttf|otf|eot|svg)$"</span><span class="pln"> </span><span class="tag">&gt;</span><span class="pln"><br />&nbsp; &nbsp; SetOutputFilter DEFLATE<br />&nbsp; </span><span class="tag">&lt;/FilesMatch&gt;</span><span class="pln"><br /></span><span class="tag">&lt;/IfModule&gt;</span><span class="pln"><br /></span></code></pre>

<p>The time it takes to transfer an HTTP request and response across the network can be significantly reduced by decisions made by front-end engineers. It's true that the end-user's bandwidth speed, Internet service provider, proximity to peering exchange points, etc. are beyond the control of the development team. But there are other variables that affect response times. Compression reduces response times by reducing the size of the HTTP response.</p>

<p>Starting with HTTP/1.1, web clients indicate support for compression with the Accept-Encoding header in the HTTP request.</p>

<pre><code><span class="pln">&nbsp; </span><span class="typ">Accept</span><span class="pun">-</span><span class="typ">Encoding</span><span class="pun">:</span><span class="pln"> gzip</span><span class="pun">,</span><span class="pln"> deflate<br /></span></code></pre>

<p>If the web server sees this header in the request, it may compress the response using one of the methods listed by the client. The web server notifies the web client of this via the Content-Encoding header in the response.</p>

<pre><code><span class="pln">&nbsp; </span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Encoding</span><span class="pun">:</span><span class="pln"> gzip<br /></span></code></pre>

<p>Gzip is the most popular and effective compression method at this time. It was developed by the GNU project and standardized by RFC 1952. The only other compression format you're likely to see is deflate, but it's less effective and less popular.</p>

<p>Gzipping generally reduces the response size by about 70%. Approximately 90% of today's Internet traffic travels through browsers that claim to support gzip. If you use Apache, the module configuring gzip depends on your version: Apache 1.3 uses mod_gzip while Apache 2.x uses mod_deflate.</p>

<p>There are known issues with browsers and proxies that may cause a mismatch in what the browser expects and what it receives with regard to compressed content. Fortunately, these edge cases are dwindling as the use of older browsers drops off. The Apache modules help out by adding appropriate Vary response headers automatically.</p>

<p>Servers choose what to gzip based on file type, but are typically too limited in what they decide to compress. Most web sites gzip their HTML documents. It's also worthwhile to gzip your scripts and stylesheets, but many web sites miss this opportunity. In fact, it's worthwhile to compress any text response including XML and JSON. Image and PDF files should not be gzipped because they are already compressed. Trying to gzip them not only wastes CPU but can potentially increase file sizes.</p>

<p>Gzipping as many file types as possible is an easy way to reduce page weight and accelerate the user experience.</p>
        <div id="disqus_thread"></div>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
    </div>
    <footer id="footer">
      <p>
        <em class="focus">Brought to you by</em>
        <a href="http://paulirish.com"><img width="50" height="50" src="/img/paul-irish.png" alt=""> Paul Irish <i>Google Chrome, jQuery</i></a>
        <a href="http://nimbupani.com"><img width="50" height="50" src="/img/divya-manian.png" alt="">Divya Manian <i>Web Opener @ Opera</i></a>
        <a href="http://www.blog.highub.com/"><img width="50" height="50" src="/img/shichuan.png" alt="">Shichuan <i>Open Web Developer</i></a>
        <a href="http://mathiasbynens.be/"><img width="50" height="50" src="/img/mathias-bynens.png" alt="">Mathias Bynens <i>Freelance front-end web developer</i></a>    
        <a href="http://nicolasgallagher.com/"><img width="50" height="50" src="/img/nicolas-gallagher.png" alt="">Nicolas Gallagher <i>Front-End Web Developer</i></a>                                
      </p> 
      <ul>
        <li><a href="http://blog.mklog.fr/">Mickael Daniel</a></li>
        <li><a href="http://twitter.com/jverrecchia">Jonathan Verrecchia</a></li>
        <li><a href="http://htmlcssjavascript.com/">Rob Larsen</a></li>
        <li><a href="http://mikewest.org/">Mike West</a></li>   
        <li><a href="https://github.com/paulirish/html5-boilerplate/contributors">More Contributors</a></li>
      </ul> <br>
      <p>It would not have been possible without the efforts of these superheroes:</p>
      <ul>
        <li><a href="http://www.phpied.com">Stoyan Stefanov</a></li>
        <li><a href="http://meyerweb.com/">Eric Meyer</a></li>
        <li><a href="http://richclarkdesign.com/">Richard Clark</a></li>
        <li><a href="http://www.aestheticallyloyal.com/">Anthony Kolber</a></li>
        <li><a href="http://www.splintered.co.uk/">Patrick H Lauke</a></li>
        <li><a href="http://timvandamme.com">Tim Van Damme</a></li>
        <li><a href="http://farukat.es/">Faruk Ate&#351;</a></li>
        <li><a href="http://remysharp.com/">Remy Sharp</a></li>
        <li><a href="http://www.dillerdesign.com/">Drew Diller</a></li>
        <li><a href="http://blog.amodernfable.com/">Adam McIntyre</a></li>
        <li><a href="http://tjkdesign.com/">Thierry Koblentz</a></li>
        <li><a href="http://miketaylr.com">Mike Taylor</a></li>
        <li><a href="http://iecss.com">Jonathan Neal</a></li>
        <li><a href="http://camendesign.com">Kroc Camen</a></li>
        <li><a href="http://fontsquirrel.com">Ethan Dunham</a></li>
        <li><a href="http://peter.sh">Peter Beverloo</a></li>         
        <li><a href="http://code.flickr.com/blog/">Flickr</a></li>
        <li><a href="http://www.viget.com/inspire/">Viget</a></li>
        <li><a href="http://stevesouders.com/">Steve Souders</a></li>
        <li><a href="http://stuffandnonsense.co.uk/blog">Andy Clarke</a>
        <li><a href="http://na.isobar.com">Isobar Interface Development team</a></li>
      </ul>
    </footer>
    <img id="html5logo" src="//html5boilerplate.com/img/HTML5_Logo.svg" height="60">
  </div>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.js"></script>
  <script>window.jQuery || document.write('<script src="/js/jquery.min.js"><\/script>')</script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.1.6/underscore-min.js"></script>
  <script>window._ || document.write('<script src="/js/libs/underscore.min.js">\x3C/script>')</script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/0.5.0/backbone-min.js"></script>
  <script>window.Backbone || document.write('<script src="/js/libs/backbone.min.js">\x3C/script>')</script>
  <script src="/js/docs.js"></script>
  <script>
    (function(exports) {
      // with backbone pushState, we might want to move this in script.js
      // http://docs.disqus.com/help/85/
      var devmode = ( /file/.test(location.protocol) || /(localhost|dropbox)/.test(location.host) ) ? 1 : undefined;
      // todo: edit this with appropriate shortname
      var disqus_shortname = exports.disqus_shortname = 'h5bdocstest';
      // todo: expose href variable
      var disqus_identifier = exports.disqus_identifier = '/docs/htaccess/';
      // todo: change this with something like h5bp.com/docs/docs/htaccess/
      var disqus_url = exports.disqus_url= '/docs/htaccess/';
      var disqus_developer = exports.disqus_developer = devmode;
      var disqus_title = exports.disqus_title = 'h5bp docs comment for /docs/htaccess/';
      // todo: delay comments loading like its done on the website?
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    })(this);
  </script>
</body>
</html>